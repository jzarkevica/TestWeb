<!DOCTYPE html>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<html>
    <head> 
        <style>
         body  { background-color: #b3b3b3;
         color: #fff;
         text-align: center;
         }
         p{
             text-align:center;
             
         }
         form{
             text-align:center;
         }
         table{
             margin-left: auto;
             margin-right: auto;
             
         }
         .cell{
       margin: 10px;
        height: 60px;
        width: 60px;
        
        }
        .mattels{
         position: relative;
        }
         
        </style> 
        <title>laukums</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
      
    </head>
    <body>
   <!--     <p>ievadi skaitli n</p>
        <form id="frm1" action="/action_page.php">
  skaitlis: <input type="number" name="skaitlis"><br>
  
  <input type="button" onclick="myFunction()" value="skaitīt">
</form>

<script>
function myFunction() {
  document.getElementById("frm1").submit();
function myFunction() {
  var x = document.getElementById("skaitlis").value;
  document.getElementById("demo").innerHTML = x;
}
}

</script>   -->
  
<p><a href="index.html">atgriezties</a></p> 
   <p>  ievadi skaitli n: <input type="number" id="myNumber" value=" "> </p>
   <p><button onclick="zimet()">zīmēt</button></p>
   <p id="demo"></p>
   <div class="grupa" id="poga"></div> 
   
   


<script>

  
    var attels=['attels1/apple.jpg', 'attels1/book1.jpg', 'attels1/carrot.jpg', 'attels1/dog.jpg','attels1/eye.jpg','attels1/frog.jpg','attels1/guitar.jpg','attels1/house.jpg',
      'attels1/ice.jpg','attels1/jar.jpg','attels1/key.jpg','attels1/lemon.jpg','attels1/mushroom.jpg','attels1/nose.jpg','attels1/octopus.jpg','attels1/pumpkin.jpg','attels1/queue.jpg',
      'attels1/rainbow1.jpg','attels1/sun.jpg','attels1/tram.jpg','attels1/umbrella.jpg','attels1/vase.jpg','attels1/watermelon.jpg','attels1/x.jpg','attels1/yoyo.jpg','attels1/zebra.jpg'];
  var burts=["a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"];
  
  var klik=false;
  var saraksts=[];
  var masivs=[];
  var tt;
  var m=0;
  var k;
  function sajukums(n){
      // vispirms sajauc dotos masīvus 
for(let i=0;i<attels.length;i++){
var rand=Math.floor(Math.random()*attels.length); 
var tmp=attels[rand]; 
attels[rand]=attels[i]; 
attels[i]=tmp; 
tmp=burts[rand]; 
burts[rand]=burts[i]; 
burts[i]=tmp; } 
// paņem nepieciešamo skaitu elementu 
for(let i=0;i<n*n/2;i++){ 
saraksts.push(attels[i]); 
//saraksts.push("http://r1g.edu.lv/v/index/img/logo_sm3.png");
//saraksts.push("https://upload.wikimedia.org/wikipedia/commons/1/10/Red_Color.jpg");
saraksts.push(burts[i]); } 
// sajauc sarakstu - tagad ir garantēts vienāds skaits burtu un bilžu 
for(let i=0;i<saraksts.length;i++){ 
var rand=Math.floor(Math.random()*saraksts.length); 
var tmp=saraksts[rand]; 
saraksts[rand]=saraksts[i]; 
saraksts[i]=tmp; } 
//document.write(saraksts); 
//console.log(saraksts);

        }

function zimet() { 
    masivs=[];
if(document.getElementById("poga").hasChildNodes()){ document.getElementById("poga").removeChild(document.getElementById("poga").childNodes[0]); } var n = document.getElementById("myNumber").value; 
document.getElementById("demo").innerHTML = n; 
if(document.getElementById("tabula")!==null){ document.body.removeChild(document.getElementById("tabula")); } 
var tbl = document.createElement("table"); 
tbl.setAttribute("id","tabula"); 
sajukums(n); 
for (var j =0; j < n; j++) { 
var row = document.createElement("tr"); 
for (var i = 0; i < n; i++) { 
var cell = document.createElement("td"); 
cell.style.background = "";
let bilde = document.createElement("img");
  bilde.setAttribute("src", "attels/background.jpg");
  bilde.setAttribute("class", "bilde");
        
if(saraksts[j*n+i].length===1){ 
cell.innerHTML =saraksts[j*n+i]; 
cell.style.width='100px'; 
cell.style.height='100px'; }
else{ 
cell.setAttribute("style","background-image: url('"+saraksts[j*n+i]+"' );width:100px;height:100px;"); }
cell.onclick = function(){
                    if(masivs.indexOf(cell.id)==-1){
                        maina(cell.id);
                    } }
row.appendChild(cell); } 
tbl.appendChild(row); } 
document.body.appendChild(tbl); }	


function mainaBildi(k){
    if (klik){
        document.getElementById(k).style.background = "";
        document.getElementById(k).innerHTML = "";
        let bilde = document.createElement("img");
        bilde.setAttribute("src", "attels/background.jpg");
        bilde.setAttribute("class", "bilde");
        document.getElementById(k).appendChild(bilde);
    }
       else {
        document.getElementById(k).innerHTML = "";
        if(sajukums[k].charAt(0)==='#'){
            document.getElementById(k).style.background = sajukums[k];
        }else document.getElementById(k).innerHTML = sajukums[k];
    }                

}

function maina(k){
    if(m===1)return;
    if(!klik){
        tt = k;
        mainaBildi(k);
        klik = true;
    }
    else{
        if(k===tt){
            mainaBildi(k);
            klik = false;
        }
        else{
            klik = false;
            mainaBildi(k);
            let poga1 = sajukums[tt];
            let poga2 = sajukums[k];
            if(burts.indexOf(poga1)==attels.indexOf(poga2)&&attels.indexOf(poga1)==burts.indexOf(poga2)){
                masivs.push(tt);
                masivs.push(k);
                tt = -1;
            }else{
                klik = true;
                m = 1;
               
            }
        }
    }
}


 
// var image = document.createElement("tr");         
// sajukums(n);

//    for(var j=0; j<n; j++){
  //    let row = document.createElement("tr");
    //for(var i=0; i<n; i++){                            
    //let card= document.createElement("cell");
    //card.setAttribute("border","n");
    //console.log(card.attributes);
    //card.setAttribute("style","vertical-align:middle");
  ////  if(saraksts[j*n+i].charAt(0)==='#'){
  ////  card.style.background = saraksts[j*n+i];
  ////  }else card.innerHTML = saraksts[j*n+i];
   
   //             row.appendChild(card);
     //               }
       //             image.appendChild(row);
         //       }
           //     document.getElementById("poga").appendChild(image);
            
          
</script> 


    </body>
</html>
